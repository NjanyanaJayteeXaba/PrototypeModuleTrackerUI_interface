<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Module Tracker Dashboard</title>
    <script src="https://cdn.tailwindcss.com/3.4.16"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        primary: '#0033A0',
                        secondary: '#FFD100',
                        dark: {
                            800: '#1f2937',
                            900: '#111827'
                        }
                    },
                    borderRadius: {
                        'none': '0px',
                        'sm': '4px',
                        DEFAULT: '8px',
                        'md': '12px',
                        'lg': '16px',
                        'xl': '20px',
                        '2xl': '24px',
                        '3xl': '32px',
                        'full': '9999px',
                        'button': '8px'
                    }
                }
            }
        }
    </script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Roboto+Mono:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/4.6.0/remixicon.min.css">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            transition: background-color 0.3s, color 0.3s;
        }
        .font-mono {
            font-family: 'Roboto Mono', monospace;
        }
        .progress-bar-container {
            height: 8px;
            background-color: #E5E7EB;
            border-radius: 4px;
            overflow: hidden;
            transition: background-color 0.3s;
        }
        .dark .progress-bar-container {
            background-color: #4a5568;
        }
        .progress-bar {
            height: 100%;
            border-radius: 4px;
            transition: width 0.5s ease-in-out;
        }
        .notification-item.unread {
            background-color: rgba(59, 130, 246, 0.05);
        }
        .dark .notification-item.unread {
            background-color: rgba(59, 130, 246, 0.1);
        }
        .notification-item.unread::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 3px;
            background-color: #0033A0;
        }
        .dark .notification-item.unread::before {
            background-color: #FFD100;
        }
        .tab-active {
            color: #0033A0;
            border-bottom: 2px solid #0033A0;
        }
        .dark .tab-active {
            color: #FFD100;
            border-bottom-color: #FFD100;
        }
        .locked-module {
            position: relative;
            opacity: 0.7;
        }
        .locked-module::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(255, 255, 255, 0.7);
            z-index: 1;
            border-radius: 7px;
        }
        .dark .locked-module::after {
            background-color: rgba(0, 0, 0, 0.7);
        }
        .lock-icon {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 2;
            color: #6b7280;
            font-size: 24px;
        }
        .dark .lock-icon {
            color: #d1d5db;
        }
        
        /* Dark mode styles */
        .dark {
            background-color: #1a202c;
            color: #f7fafc;
        }
        .dark .bg-white {
            background-color: #2d3748;
        }
        .dark .text-gray-800 {
            color: #f7fafc;
        }
        .dark .text-gray-600 {
            color: #cbd5e0;
        }
        .dark .text-gray-700 {
            color: #e2e8f0;
        }
        .dark .border-gray-200 {
            border-color: #4a5568;
        }
        .dark .bg-gray-50 {
            background-color: #1a202c;
        }
        .dark .bg-gray-100 {
            background-color: #4a5568;
        }
        .dark .border-gray-300 {
            border-color: #4a5568;
        }
        .dark .text-gray-500 {
            color: #a0aec0;
        }
        .dark .hover\:bg-gray-100:hover {
            background-color: #4a5568;
        }
        .dark .bg-gray-200 {
            background-color: #4a5568;
        }
        .dark .text-gray-400 {
            color: #a0aec0;
        }
        .dark .bg-yellow-50 {
            background-color: rgba(146, 114, 1, 0.2);
        }
        
        /* Animation for theme transition */
        * {
            transition: background-color 0.3s ease, border-color 0.3s ease;
        }
        
        .dark .focus-visible {
            outline-color: #FFD100;
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen dark:bg-gray-900">
    <!-- Dashboard Screen -->
    <div id="dashboard-screen" class="min-h-screen flex flex-col">
        <!-- Top Navigation -->
        <header class="bg-white border-b border-gray-200 sticky top-0 z-10 dark:bg-gray-800 dark:border-gray-700">
            <div class="container mx-auto px-4 py-3 flex items-center justify-between">
                <div class="flex items-center">
                    <a href="Module-Tracker-Dashboard.html" class="focus-visible">
                        <img src="cput-logo.png" alt="CPUT Logo" class="h-10">
                    </a>
                    <h1 class="ml-4 text-xl font-semibold text-gray-800 dark:text-white">Module Tracker</h1>
                </div>
                <div class="flex items-center space-x-4">
                    <button id="dark-mode-toggle" class="p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-full dark:text-gray-300 dark:hover:bg-gray-700 focus-visible">
                        <div class="w-6 h-6 flex items-center justify-center">
                            <i class="ri-moon-line dark:hidden"></i>
                            <i class="ri-sun-line hidden dark:block"></i>
                        </div>
                    </button>
                    <div class="relative">
                        <button id="notifications-button" class="relative p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-full dark:text-gray-300 dark:hover:bg-gray-700 focus-visible">
                            <div class="w-6 h-6 flex items-center justify-center">
                                <i class="ri-notification-3-line"></i>
                            </div>
                            <span id="notification-dot" class="absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"></span>
                        </button>
                        <div id="notifications-dropdown" class="hidden absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg border border-gray-200 z-20 dark:bg-gray-800 dark:border-gray-700">
                            <div class="p-4 border-b border-gray-200 dark:border-gray-700">
                                <h3 class="font-semibold text-gray-800 dark:text-white">Notifications</h3>
                            </div>
                            <div class="max-h-96 overflow-y-auto">
                                <div class="notification-item p-4 border-b border-gray-100 hover:bg-gray-50 cursor-pointer unread dark:border-gray-700 dark:hover:bg-gray-700">
                                    <div class="flex items-start gap-3">
                                        <div class="w-8 h-8 flex items-center justify-center bg-red-100 rounded-full flex-shrink-0 dark:bg-red-900/20">
                                            <i class="ri-alert-line text-red-500 dark:text-red-400"></i>
                                        </div>
                                        <div class="flex-1">
                                            <p class="text-sm text-gray-800 mb-1 dark:text-gray-200">Your grade in Applications Development Fundamentals 2 (ADF262S) has dropped below 50%. Consider seeking tutoring assistance.</p>
                                            <p class="text-xs text-gray-500 dark:text-gray-400">2 hours ago</p>
                                        </div>
                                        <button class="mark-as-read p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300">
                                            <i class="ri-check-double-line"></i>
                                        </button>
                                    </div>
                                </div>
                                <div class="notification-item p-4 border-b border-gray-100 hover:bg-gray-50 cursor-pointer dark:border-gray-700 dark:hover:bg-gray-700">
                                    <div class="flex items-start gap-3">
                                        <div class="w-8 h-8 flex items-center justify-center bg-green-100 rounded-full flex-shrink-0 dark:bg-green-900/20">
                                            <i class="ri-file-list-line text-green-500 dark:text-green-400"></i>
                                        </div>
                                        <div class="flex-1">
                                            <p class="text-sm text-gray-800 mb-1 dark:text-gray-200">New grade posted for Project 2 (PRT262S): Assignment 1</p>
                                            <p class="text-xs text-gray-500 dark:text-gray-400">Yesterday</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="notification-item p-4 border-b border-gray-100 hover:bg-gray-50 cursor-pointer dark:border-gray-700 dark:hover:bg-gray-700">
                                    <div class="flex items-start gap-3">
                                        <div class="w-8 h-8 flex items-center justify-center bg-blue-100 rounded-full flex-shrink-0 dark:bg-blue-900/20">
                                            <i class="ri-calendar-line text-blue-500 dark:text-blue-400"></i>
                                        </div>
                                        <div class="flex-1">
                                            <p class="text-sm text-gray-800 mb-1 dark:text-gray-200">Upcoming test for Communications Networks Fundamentals 2 (CNF262S) next week</p>
                                            <p class="text-xs text-gray-500 dark:text-gray-400">2 days ago</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="p-3 text-center border-t border-gray-200 dark:border-gray-700">
                                <button id="view-all-notifications" class="text-sm text-primary hover:underline dark:text-secondary">View All Notifications</button>
                            </div>
                        </div>
                    </div>
                    <div class="relative">
                        <button id="user-menu-button" class="flex items-center space-x-2 focus:outline-none focus-visible">
                            <div id="nav-profile-avatar" class="w-8 h-8 bg-primary text-white rounded-full flex items-center justify-center text-sm font-medium overflow-hidden">
                                <img id="nav-profile-image" src="" alt="Profile" class="w-full h-full object-cover hidden">
                                <span id="nav-avatar-initials">NX</span>
                            </div>
                            <span class="text-sm font-medium text-gray-700 dark:text-gray-300">Njanyana Xaba</span>
                            <div class="w-5 h-5 flex items-center justify-center">
                                <i class="ri-arrow-down-s-line"></i>
                            </div>
                        </button>
                        <div id="user-dropdown" class="hidden absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-10 border border-gray-200 dark:bg-gray-800 dark:border-gray-700">
                            <a href="Student-Profile-Information.html" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700 focus-visible">Profile</a>
                            <a href="Settings-Custom.html" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 bg-gray-100 dark:bg-gray-700 dark:text-white focus-visible">Settings</a>
                            <a href="Support-Webpage.html" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700 focus-visible">Support</a>
                            <div class="border-t border-gray-100 my-1 dark:border-gray-700"></div>
                            <a href="index.html" id="logout-button" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700 focus-visible">Log out</a>
                        </div>
                    </div>
                </div>
            </div>
        </header>
        
        <!-- Alert Banner -->
        <div id="alert-banner" class="bg-yellow-50 border-l-4 border-yellow-400 p-4 dark:bg-yellow-900/20 dark:border-yellow-700">
            <div class="container mx-auto px-4 flex items-center justify-between">
                <div class="flex items-center">
                    <div class="w-6 h-6 flex items-center justify-center text-yellow-500 dark:text-yellow-400">
                        <i class="ri-alert-line"></i>
                    </div>
                    <p class="ml-3 text-sm text-gray-700 dark:text-gray-300">Your average in <strong class="dark:text-white">Applications Development Fundamentals 2</strong> is below 50%. Tutoring is recommended.</p>
                </div>
                <button class="bg-secondary text-gray-800 px-4 py-1 text-sm font-medium rounded-button hover:bg-opacity-90 transition-all whitespace-nowrap dark:text-gray-900 focus-visible">Request Tutor</button>
            </div>
        </div>
        
        <!-- Main Content -->
        <main class="flex-1 container mx-auto px-4 py-6">
            <div class="mb-6 flex items-center justify-between">
                <h2 class="text-2xl font-bold text-gray-800 dark:text-white">My Modules</h2>
                <div class="flex items-center space-x-4">
                    <div class="relative">
                        <input type="text" placeholder="Search modules..." class="pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:focus:ring-secondary">
                        <div class="absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 flex items-center justify-center text-gray-500 dark:text-gray-400">
                            <i class="ri-search-line"></i>
                        </div>
                    </div>
                    <div class="flex bg-gray-100 rounded-full p-1 dark:bg-gray-700">
                        <button id="current-modules-btn" class="px-4 py-1 rounded-full bg-white shadow-sm text-sm font-medium dark:bg-gray-600 dark:text-white">Current</button>
                        <button id="all-modules-btn" class="px-4 py-1 rounded-full text-sm font-medium text-gray-600 dark:text-gray-300">All</button>
                    </div>
                </div>
            </div>
            
            <!-- Module Cards Grid -->
            <div id="modules-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Current Year Modules (2025) -->
                <!-- Applications Development Fundamentals 2 -->
                <div class="bg-white rounded-lg border border-l-4 border-l-red-500 border-gray-200 p-5 relative dark:bg-gray-800 dark:border-gray-700">
                    <div class="absolute -top-2 -right-2 w-6 h-6 flex items-center justify-center bg-red-500 text-white rounded-full text-xs">
                        <i class="ri-alert-fill"></i>
                    </div>
                    <div class="flex justify-between items-start mb-4">
                        <div>
                            <h3 class="font-semibold text-gray-800 dark:text-white">Applications Development Fundamentals 2</h3>
                            <p class="text-xs text-gray-500 dark:text-gray-400">ADF262S</p>
                        </div>
                        <span class="font-mono font-bold text-lg text-red-500 dark:text-red-400">47%</span>
                    </div>
                    <div class="progress-bar-container mb-4">
                        <div class="progress-bar bg-red-500 dark:bg-red-400" style="width: 47%"></div>
                    </div>
                    <div class="flex justify-between text-sm">
                        <span class="text-gray-600 dark:text-gray-400">Test 1: 42%</span>
                        <span class="text-gray-600 dark:text-gray-400">Test 2: 52%</span>
                    </div>
                    <button class="mt-4 text-sm text-primary hover:underline dark:text-secondary focus-visible" onclick="showModuleDetails('ADF262S')">View Details</button>
                </div>
                
                <!-- Applications Development Practice 2 -->
                <div class="bg-white rounded-lg border border-l-4 border-l-yellow-500 border-gray-200 p-5 relative dark:bg-gray-800 dark:border-gray-700">
                    <div class="flex justify-between items-start mb-4">
                        <div>
                            <h3 class="font-semibold text-gray-800 dark:text-white">Applications Development Practice 2</h3>
                            <p class="text-xs text-gray-500 dark:text-gray-400">ADP262S</p>
                        </div>
                        <span class="font-mono font-bold text-lg text-yellow-500 dark:text-yellow-400">61%</span>
                    </div>
                    <div class="progress-bar-container mb-4">
                        <div class="progress-bar bg-yellow-500 dark:bg-yellow-400" style="width: 61%"></div>
                    </div>
                    <div class="flex justify-between text-sm">
                        <span class="text-gray-600 dark:text-gray-400">Test 1: 61%</span>
                        <span class="text-gray-600 dark:text-gray-400">Test 2: -</span>
                    </div>
                    <button class="mt-4 text-sm text-primary hover:underline dark:text-secondary focus-visible" onclick="showModuleDetails('ADP262S')">View Details</button>
                </div>
                
                <!-- Communications Networks Fundamentals 2 -->
                <div class="bg-white rounded-lg border border-l-4 border-l-green-500 border-gray-200 p-5 relative dark:bg-gray-800 dark:border-gray-700">
                    <div class="flex justify-between items-start mb-4">
                        <div>
                            <h3 class="font-semibold text-gray-800 dark:text-white">Communications Networks Fundamentals 2</h3>
                            <p class="text-xs text-gray-500 dark:text-gray-400">CNF262S</p>
                        </div>
                        <span class="font-mono font-bold text-lg text-green-500 dark:text-green-400">72%</span>
                    </div>
                    <div class="progress-bar-container mb-4">
                        <div class="progress-bar bg-green-500 dark:bg-green-400" style="width: 72%"></div>
                    </div>
                    <div class="flex justify-between text-sm">
                        <span class="text-gray-600 dark:text-gray-400">Test 1: 93%</span>
                        <span class="text-gray-600 dark:text-gray-400">Test 2: -</span>
                    </div>
                    <button class="mt-4 text-sm text-primary hover:underline dark:text-secondary focus-visible" onclick="showModuleDetails('CNF262S')">View Details</button>
                </div>
                
                <!-- ICT Electives 2 (Python) -->
                <div class="bg-white rounded-lg border border-l-4 border-l-green-500 border-gray-200 p-5 relative dark:bg-gray-800 dark:border-gray-700">
                    <div class="flex justify-between items-start mb-4">
                        <div>
                            <h3 class="font-semibold text-gray-800 dark:text-white">ICT Electives 2 (Python)</h3>
                            <p class="text-xs text-gray-500 dark:text-gray-400">ICE262S</p>
                        </div>
                        <span class="font-mono font-bold text-lg text-green-500 dark:text-green-400">94%</span>
                    </div>
                    <div class="progress-bar-container mb-4">
                        <div class="progress-bar bg-green-500 dark:bg-green-400" style="width: 94%"></div>
                    </div>
                    <div class="flex justify-between text-sm">
                        <span class="text-gray-600 dark:text-gray-400">Test 1: 94%</span>
                        <span class="text-gray-600 dark:text-gray-400">Test 2: -</span>
                    </div>
                    <button class="mt-4 text-sm text-primary hover:underline dark:text-secondary focus-visible" onclick="showModuleDetails('ICE262S')">View Details</button>
                </div>
                
                <!-- Information Management 2 -->
                <div class="bg-white rounded-lg border border-l-4 border-l-green-500 border-gray-200 p-5 relative dark:bg-gray-800 dark:border-gray-700">
                    <div class="flex justify-between items-start mb-4">
                        <div>
                            <h3 class="font-semibold text-gray-800 dark:text-white">Information Management 2</h3>
                            <p class="text-xs text-gray-500 dark:text-gray-400">INM262S</p>
                        </div>
                        <span class="font-mono font-bold text-lg text-green-500 dark:text-green-400">87%</span>
                    </div>
                    <div class="progress-bar-container mb-4">
                        <div class="progress-bar bg-green-500 dark:bg-green-400" style="width: 87%"></div>
                    </div>
                    <div class="flex justify-between text-sm">
                        <span class="text-gray-600 dark:text-gray-400">Test 1: 87%</span>
                        <span class="text-gray-600 dark:text-gray-400">Test 2: -</span>
                    </div>
                    <button class="mt-4 text-sm text-primary hover:underline dark:text-secondary focus-visible" onclick="showModuleDetails('INM262S')">View Details</button>
                </div>
                
                <!-- Information Systems Analysis -->
                <div class="bg-white rounded-lg border border-l-4 border-l-green-500 border-gray-200 p-5 relative dark:bg-gray-800 dark:border-gray-700">
                    <div class="flex justify-between items-start mb-4">
                        <div>
                            <h3 class="font-semibold text-gray-800 dark:text-white">Information Systems Analysis</h3>
                            <p class="text-xs text-gray-500 dark:text-gray-400">ISA260S</p>
                        </div>
                        <span class="font-mono font-bold text-lg text-green-500 dark:text-green-400">92%</span>
                    </div>
                    <div class="progress-bar-container mb-4">
                        <div class="progress-bar bg-green-500 dark:bg-green-400" style="width: 92%"></div>
                    </div>
                    <div class="flex justify-between text-sm">
                        <span class="text-gray-600 dark:text-gray-400">Test 1: 92%</span>
                        <span class="text-gray-600 dark:text-gray-400">Test 2: -</span>
                    </div>
                    <button class="mt-4 text-sm text-primary hover:underline dark:text-secondary focus-visible" onclick="showModuleDetails('ISA260S')">View Details</button>
                </div>
                
                <!-- Multimedia Applications Fundamentals 2 -->
                <div class="bg-white rounded-lg border border-l-4 border-l-green-500 border-gray-200 p-5 relative dark:bg-gray-800 dark:border-gray-700">
                    <div class="flex justify-between items-start mb-4">
                        <div>
                            <h3 class="font-semibold text-gray-800 dark:text-white">Multimedia Applications Fundamentals 2</h3>
                            <p class="text-xs text-gray-500 dark:text-gray-400">MAF262S</p>
                        </div>
                        <span class="font-mono font-bold text-lg text-green-500 dark:text-green-400">90%</span>
                    </div>
                    <div class="progress-bar-container mb-4">
                        <div class="progress-bar bg-green-500 dark:bg-green-400" style="width: 90%"></div>
                    </div>
                    <div class="flex justify-between text-sm">
                        <span class="text-gray-600 dark:text-gray-400">Test 1: 90%</span>
                        <span class="text-gray-600 dark:text-gray-400">Test 2: -</span>
                    </div>
                    <button class="mt-4 text-sm text-primary hover:underline dark:text-secondary focus-visible" onclick="showModuleDetails('MAF262S')">View Details</button>
                </div>
                
                <!-- Project 2 -->
                <div class="bg-white rounded-lg border border-l-4 border-l-green-500 border-gray-200 p-5 relative dark:bg-gray-800 dark:border-gray-700">
                    <div class="flex justify-between items-start mb-4">
                        <div>
                            <h3 class="font-semibold text-gray-800 dark:text-white">Project 2</h3>
                            <p class="text-xs text-gray-500 dark:text-gray-400">PRT262S</p>
                        </div>
                        <span class="font-mono font-bold text-lg text-green-500 dark:text-green-400">87%</span>
                    </div>
                    <div class="progress-bar-container mb-4">
                        <div class="progress-bar bg-green-500 dark:bg-green-400" style="width: 87%"></div>
                    </div>
                    <div class="flex justify-between text-sm">
                        <span class="text-gray-600 dark:text-gray-400">Test 1: 87%</span>
                        <span class="text-gray-600 dark:text-gray-400">Test 2: -</span>
                    </div>
                    <button class="mt-4 text-sm text-primary hover:underline dark:text-secondary focus-visible" onclick="showModuleDetails('PRT262S')">View Details</button>
                </div>
                
                <!-- Hidden Other Electives (Shown when "All" is clicked) -->
                <!-- ICT Electives 2 (AI) -->
                <div class="bg-white rounded-lg border border-l-4 border-l-gray-300 border-gray-200 p-5 relative locked-module dark:bg-gray-800 dark:border-gray-700 hidden">
                    <div class="lock-icon">
                        <i class="ri-lock-line"></i>
                    </div>
                    <div class="flex justify-between items-start mb-4">
                        <div>
                            <h3 class="font-semibold text-gray-800 dark:text-white">ICT Electives 2 (AI)</h3>
                            <p class="text-xs text-gray-500 dark:text-gray-400">ICE262S</p>
                        </div>
                        <span class="font-mono font-bold text-lg text-gray-400 dark:text-gray-500">-</span>
                    </div>
                    <div class="progress-bar-container mb-4">
                        <div class="progress-bar bg-gray-300 dark:bg-gray-600" style="width: 0%"></div>
                    </div>
                    <div class="flex justify-between text-sm">
                        <span class="text-gray-400 dark:text-gray-500">Not enrolled</span>
                    </div>
                </div>
                
                <!-- ICT Electives 2 (PHP) -->
                <div class="bg-white rounded-lg border border-l-4 border-l-gray-300 border-gray-200 p-5 relative locked-module dark:bg-gray-800 dark:border-gray-700 hidden">
                    <div class="lock-icon">
                        <i class="ri-lock-line"></i>
                    </div>
                    <div class="flex justify-between items-start mb-4">
                        <div>
                            <h3 class="font-semibold text-gray-800 dark:text-white">ICT Electives 2 (PHP)</h3>
                            <p class="text-xs text-gray-500 dark:text-gray-400">ICE262S</p>
                        </div>
                        <span class="font-mono font-bold text-lg text-gray-400 dark:text-gray-500">-</span>
                    </div>
                    <div class="progress-bar-container mb-4">
                        <div class="progress-bar bg-gray-300 dark:bg-gray-600" style="width: 0%"></div>
                    </div>
                    <div class="flex justify-between text-sm">
                        <span class="text-gray-400 dark:text-gray-500">Not enrolled</span>
                    </div>
                </div>
                
                <!-- ICT Electives 2 (Linux) -->
                <div class="bg-white rounded-lg border border-l-4 border-l-gray-300 border-gray-200 p-5 relative locked-module dark:bg-gray-800 dark:border-gray-700 hidden">
                    <div class="lock-icon">
                        <i class="ri-lock-line"></i>
                    </div>
                    <div class="flex justify-between items-start mb-4">
                        <div>
                            <h3 class="font-semibold text-gray-800 dark:text-white">ICT Electives 2 (Linux)</h3>
                            <p class="text-xs text-gray-500 dark:text-gray-400">ICE262S</p>
                        </div>
                        <span class="font-mono font-bold text-lg text-gray-400 dark:text-gray-500">-</span>
                    </div>
                    <div class="progress-bar-container mb-4">
                        <div class="progress-bar bg-gray-300 dark:bg-gray-600" style="width: 0%"></div>
                    </div>
                    <div class="flex justify-between text-sm">
                        <span class="text-gray-400 dark:text-gray-500">Not enrolled</span>
                    </div>
                </div>
                
                <!-- ICT Electives 2 (Business Analysis) -->
                <div class="bg-white rounded-lg border border-l-4 border-l-gray-300 border-gray-200 p-5 relative locked-module dark:bg-gray-800 dark:border-gray-700 hidden">
                    <div class="lock-icon">
                        <i class="ri-lock-line"></i>
                    </div>
                    <div class="flex justify-between items-start mb-4">
                        <div>
                            <h3 class="font-semibold text-gray-800 dark:text-white">ICT Electives 2 (Business Analysis)</h3>
                            <p class="text-xs text-gray-500 dark:text-gray-400">ICE262S</p>
                        </div>
                        <span class="font-mono font-bold text-lg text-gray-400 dark:text-gray-500">-</span>
                    </div>
                    <div class="progress-bar-container mb-4">
                        <div class="progress-bar bg-gray-300 dark:bg-gray-600" style="width: 0%"></div>
                    </div>
                    <div class="flex justify-between text-sm">
                        <span class="text-gray-400 dark:text-gray-500">Not enrolled</span>
                    </div>
                </div>
            </div>
            
            <!-- Floating Action Button -->
            <button id="add-grade-button" class="fixed bottom-6 right-6 w-14 h-14 bg-primary text-white rounded-full shadow-lg flex items-center justify-center hover:bg-opacity-90 transition-all dark:bg-secondary focus-visible">
                <div class="w-6 h-6 flex items-center justify-center">
                    <i class="ri-add-line text-xl"></i>
                </div>
            </button>
        </main>
    </div>
    
    <!-- Grade Entry Modal -->
    <div id="grade-modal" class="hidden fixed inset-0 bg-black bg-opacity-20 flex items-center justify-center z-50">
        <div class="bg-white rounded-lg shadow-xl w-full max-w-md mx-4 dark:bg-gray-800 dark:border-gray-700">
            <div class="flex justify-between items-center p-5 border-b border-gray-200 dark:border-gray-700">
                <h3 class="text-lg font-semibold text-gray-800 dark:text-white">Add New Grade</h3>
                <button id="close-modal" class="text-gray-500 hover:text-gray-700 dark:text-gray-400 focus-visible">
                    <div class="w-6 h-6 flex items-center justify-center">
                        <i class="ri-close-line"></i>
                    </div>
                </button>
            </div>
            <div class="p-5 space-y-4">
                <div>
                    <label for="module-select" class="block text-sm font-medium text-gray-700 mb-1 dark:text-gray-300">Select Module</label>
                    <div class="relative">
                        <select id="module-select" class="w-full border border-gray-300 rounded-md py-2 pl-3 pr-10 appearance-none focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:focus:ring-secondary">
                            <option value="">Select a module</option>
                            <option value="ADF262S">Applications Development Fundamentals 2</option>
                            <option value="ADP262S">Applications Development Practice 2</option>
                            <option value="CNF262S">Communications Networks Fundamentals 2</option>
                            <option value="ICE262S">ICT Electives 2 (Python)</option>
                            <option value="INM262S">Information Management 2</option>
                            <option value="ISA260S">Information Systems Analysis</option>
                            <option value="MAF262S">Multimedia Applications Fundamentals 2</option>
                            <option value="PRT262S">Project 2</option>
                        </select>
                        <div class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none">
                            <div class="w-5 h-5 flex items-center justify-center text-gray-500 dark:text-gray-400">
                                <i class="ri-arrow-down-s-line"></i>
                            </div>
                        </div>
                    </div>
                </div>
                <div>
                    <label for="assessment-type" class="block text-sm font-medium text-gray-700 mb-1 dark:text-gray-300">Assessment Type</label>
                    <div class="relative">
                        <select id="assessment-type" class="w-full border border-gray-300 rounded-md py-2 pl-3 pr-10 appearance-none focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:focus:ring-secondary">
                            <option value="">Select type</option>
                            <option value="test">Test</option>
                            <option value="assignment">Assignment</option>
                            <option value="project">Project</option>
                            <option value="exam">Exam</option>
                        </select>
                        <div class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none">
                            <div class="w-5 h-5 flex items-center justify-center text-gray-500 dark:text-gray-400">
                                <i class="ri-arrow-down-s-line"></i>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label for="grade-input" class="block text-sm font-medium text-gray-700 mb-1 dark:text-gray-300">Grade (%)</label>
                        <div class="relative">
                            <input type="number" id="grade-input" min="0" max="100" class="w-full border border-gray-300 rounded-md py-2 px-3 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:focus:ring-secondary" placeholder="0-100">
                            <div class="absolute right-0 top-0 bottom-0 flex items-center pr-3 text-xs text-gray-500 dark:text-gray-400">
                                <span>/ 100</span>
                            </div>
                        </div>
                    </div>
                    <div>
                        <label for="weight-input" class="block text-sm font-medium text-gray-700 mb-1 dark:text-gray-300">Weight (%)</label>
                        <div class="relative">
                            <input type="number" id="weight-input" min="0" max="100" class="w-full border border-gray-300 rounded-md py-2 px-3 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:focus:ring-secondary" placeholder="0-100">
                            <div class="absolute right-0 top-0 bottom-0 flex items-center pr-3 text-xs text-gray-500 dark:text-gray-400">
                                <span>%</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="bg-gray-50 rounded-md p-4 dark:bg-gray-700">
                    <div class="flex justify-between items-center mb-2">
                        <span class="text-sm font-medium text-gray-700 dark:text-gray-300">Current Average:</span>
                        <span id="current-average" class="font-mono font-bold text-gray-800 dark:text-white">47%</span>
                    </div>
                    <div class="flex justify-between items-center">
                        <span class="text-sm font-medium text-gray-700 dark:text-gray-300">New Average:</span>
                        <span id="new-average" class="font-mono font-bold text-primary dark:text-secondary">52%</span>
                    </div>
                </div>
            </div>
            <div class="flex justify-end space-x-3 p-5 border-t border-gray-200 dark:border-gray-700">
                <button id="cancel-grade" class="px-4 py-2 text-gray-700 hover:underline rounded-button whitespace-nowrap dark:text-gray-300 focus-visible">Cancel</button>
                <button id="save-grade" class="px-4 py-2 bg-primary text-white rounded-button hover:bg-opacity-90 transition-all whitespace-nowrap dark:bg-secondary focus-visible">Save Grade</button>
            </div>
        </div>
    </div>
    
    <!-- Module Details Modal -->
    <div id="module-details-modal" class="hidden fixed inset-0 bg-black bg-opacity-20 flex items-center justify-center z-50">
        <div class="bg-white rounded-lg shadow-xl w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto dark:bg-gray-800 dark:border-gray-700">
            <div class="flex justify-between items-center p-5 border-b border-gray-200 sticky top-0 bg-white dark:bg-gray-800 dark:border-gray-700">
                <h3 id="module-details-title" class="text-lg font-semibold text-gray-800 dark:text-white">Module Details</h3>
                <button id="close-details-modal" class="text-gray-500 hover:text-gray-700 dark:text-gray-400 focus-visible">
                    <div class="w-6 h-6 flex items-center justify-center">
                        <i class="ri-close-line"></i>
                    </div>
                </button>
            </div>
            <div class="p-5">
                <div class="mb-6">
                    <h4 class="text-sm font-medium text-gray-500 mb-2 dark:text-gray-400">ASSESSMENT BREAKDOWN</h4>
                    <div class="overflow-x-auto">
                        <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-700">
                            <thead class="bg-gray-50 dark:bg-gray-700">
                                <tr>
                                    <th scope="col" class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400">Type</th>
                                    <th scope="col" class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400">AN</th>
                                    <th scope="col" class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400">Status</th>
                                    <th scope="col" class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400">Mark</th>
                                    <th scope="col" class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400">Weight</th>
                                </tr>
                            </thead>
                            <tbody id="module-assessment-body" class="bg-white divide-y divide-gray-200 dark:bg-gray-800 dark:divide-gray-700">
                                <!-- Assessment rows will be inserted here by JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>
                <div>
                    <h4 class="text-sm font-medium text-gray-500 mb-2 dark:text-gray-400">CALCULATION METHOD</h4>
                    <p id="module-calculation-method" class="text-sm text-gray-700 dark:text-gray-300">
                        <!-- Calculation method will be inserted here by JavaScript -->
                    </p>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Dark mode toggle functionality
            const darkModeToggle = document.getElementById('dark-mode-toggle');
            const themeToggle = document.createElement('input');
            themeToggle.type = 'checkbox';
            themeToggle.id = 'theme-toggle';
            themeToggle.className = 'hidden';
            
            // Check for saved theme preference
            const savedTheme = localStorage.getItem('theme');
            const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
            
            if (savedTheme === 'dark' || (!savedTheme && prefersDark)) {
                document.documentElement.classList.add('dark');
                themeToggle.checked = true;
            }
            
            darkModeToggle.addEventListener('click', function() {
                document.documentElement.classList.toggle('dark');
                const isDark = document.documentElement.classList.contains('dark');
                localStorage.setItem('theme', isDark ? 'dark' : 'light');
            });
            
            // Check for saved profile picture in localStorage
            const savedProfilePic = localStorage.getItem('profileImage');
            const navProfileImage = document.getElementById('nav-profile-image');
            const navAvatarInitials = document.getElementById('nav-avatar-initials');
            
            if (savedProfilePic) {
                navProfileImage.src = savedProfilePic;
                navProfileImage.classList.remove('hidden');
                navAvatarInitials.classList.add('hidden');
            }
            
            // User dropdown toggle
            const userMenuButton = document.getElementById('user-menu-button');
            const userDropdown = document.getElementById('user-dropdown');
            
            userMenuButton.addEventListener('click', function() {
                userDropdown.classList.toggle('hidden');
            });
            
            // Close dropdown when clicking outside
            document.addEventListener('click', function(event) {
                if (!userMenuButton.contains(event.target) && !userDropdown.contains(event.target)) {
                    userDropdown.classList.add('hidden');
                }
            });
            
            // Notifications functionality
            const notificationsButton = document.getElementById('notifications-button');
            const notificationsDropdown = document.getElementById('notifications-dropdown');
            const notificationDot = document.getElementById('notification-dot');
            
            if (notificationsButton && notificationsDropdown) {
                notificationsButton.addEventListener('click', function(e) {
                    e.stopPropagation();
                    notificationsDropdown.classList.toggle('hidden');
                });
                
                const markAsReadButtons = document.querySelectorAll('.mark-as-read');
                markAsReadButtons.forEach(button => {
                    button.addEventListener('click', function(e) {
                        e.stopPropagation();
                        const notificationItem = this.closest('.notification-item');
                        notificationItem.classList.remove('unread');
                        this.style.display = 'none';
                        
                        // Check if there are any remaining unread notifications
                        const unreadNotifications = document.querySelectorAll('.notification-item.unread');
                        if (unreadNotifications.length === 0) {
                            notificationDot.classList.add('hidden');
                        }
                    });
                });
                
                document.addEventListener('click', function(e) {
                    if (!notificationsButton.contains(e.target) && !notificationsDropdown.contains(e.target)) {
                        notificationsDropdown.classList.add('hidden');
                    }
                });
            }
            
            // Current/All modules toggle
            const currentModulesBtn = document.getElementById('current-modules-btn');
            const allModulesBtn = document.getElementById('all-modules-btn');
            const lockedModules = document.querySelectorAll('.locked-module');
            
            if (currentModulesBtn && allModulesBtn) {
                currentModulesBtn.addEventListener('click', function() {
                    currentModulesBtn.classList.add('bg-white', 'shadow-sm');
                    currentModulesBtn.classList.remove('text-gray-600');
                    allModulesBtn.classList.remove('bg-white', 'shadow-sm');
                    allModulesBtn.classList.add('text-gray-600');
                    
                    // Hide locked modules
                    lockedModules.forEach(module => {
                        module.classList.add('hidden');
                    });
                });
                
                allModulesBtn.addEventListener('click', function() {
                    allModulesBtn.classList.add('bg-white', 'shadow-sm');
                    allModulesBtn.classList.remove('text-gray-600');
                    currentModulesBtn.classList.remove('bg-white', 'shadow-sm');
                    currentModulesBtn.classList.add('text-gray-600');
                    
                    // Show locked modules
                    lockedModules.forEach(module => {
                        module.classList.remove('hidden');
                    });
                });
            }
            
            // Grade modal functionality
            const addGradeButton = document.getElementById('add-grade-button');
            const gradeModal = document.getElementById('grade-modal');
            const closeModal = document.getElementById('close-modal');
            const cancelGrade = document.getElementById('cancel-grade');
            
            if (addGradeButton && gradeModal && closeModal && cancelGrade) {
                addGradeButton.addEventListener('click', function() {
                    gradeModal.classList.remove('hidden');
                });
                
                const closeModalFunction = function() {
                    gradeModal.classList.add('hidden');
                };
                
                closeModal.addEventListener('click', closeModalFunction);
                cancelGrade.addEventListener('click', closeModalFunction);
            }
            
            // Grade calculation preview
            const gradeInput = document.getElementById('grade-input');
            const weightInput = document.getElementById('weight-input');
            const currentAverage = document.getElementById('current-average');
            const newAverage = document.getElementById('new-average');
            
            if (gradeInput && weightInput && currentAverage && newAverage) {
                const calculateNewAverage = function() {
                    const current = parseInt(currentAverage.textContent) || 0;
                    const grade = parseInt(gradeInput.value) || 0;
                    const weight = parseInt(weightInput.value) || 0;
                    
                    if (grade && weight) {
                        // Simple weighted average calculation
                        const newValue = Math.round((current * 0.7) + (grade * (weight / 100) * 0.3));
                        newAverage.textContent = newValue + '%';
                        
                        // Change color based on value
                        if (newValue >= 70) {
                            newAverage.className = 'font-mono font-bold text-green-500 dark:text-green-400';
                        } else if (newValue >= 50) {
                            newAverage.className = 'font-mono font-bold text-yellow-500 dark:text-yellow-400';
                        } else {
                            newAverage.className = 'font-mono font-bold text-red-500 dark:text-red-400';
                        }
                    } else {
                        newAverage.textContent = current + '%';
                        newAverage.className = 'font-mono font-bold text-primary dark:text-secondary';
                    }
                };
                
                gradeInput.addEventListener('input', calculateNewAverage);
                weightInput.addEventListener('input', calculateNewAverage);
            }
            
            // Save grade functionality
            const saveGrade = document.getElementById('save-grade');
            const moduleSelect = document.getElementById('module-select');
            
            if (saveGrade && moduleSelect && gradeModal) {
                saveGrade.addEventListener('click', function() {
                    const module = moduleSelect.value;
                    const grade = gradeInput.value;
                    const weight = weightInput.value;
                    
                    if (module && grade && weight) {
                        alert('Grade saved successfully!');
                        gradeModal.classList.add('hidden');
                        // Reset form
                        moduleSelect.value = '';
                        gradeInput.value = '';
                        weightInput.value = '';
                    } else {
                        alert('Please fill all fields');
                    }
                });
            }
        });
        
        // Module details data
        const moduleDetails = {
            'ADF262S': {
                title: 'Applications Development Fundamentals 2 (ADF262S)',
                assessments: [
                    { type: 'Test Mark (TM)', an: '1', status: 'Not Received', mark: '', weight: '10%' },
                    { type: 'Test Mark (TM)', an: '2', status: 'Not Received', mark: '', weight: '35%' },
                    { type: 'Test Mark (TM)', an: '3', status: 'Not Received', mark: '', weight: '35%' },
                    { type: 'Test Mark (TM)', an: '4', status: 'Mark Suppressed', mark: '', weight: '20%' }
                ],
                calculation: 'The module is calculated based on 4 assessments. Test 1 (10%), Test 2 (35%), Test 3 (35%), and Test 4 (20%). All tests are compulsory but not competency based.'
            },
            'ADP262S': {
                title: 'Applications Development Practice 2 (ADP262S)',
                assessments: [
                    { type: 'Test Mark (TM)', an: '1', status: 'Marked', mark: '61', weight: '10%' },
                    { type: 'Test Mark (TM)', an: '2', status: 'Not Received', mark: '', weight: '20%' },
                    { type: 'Test Mark (TM)', an: '3', status: 'Not Received', mark: '', weight: '20%' },
                    { type: 'Test Mark (TM)', an: '4', status: 'Not Received', mark: '', weight: '20%' },
                    { type: 'Test Mark (TM)', an: '5', status: 'Not Received', mark: '', weight: '15%' },
                    { type: 'Test Mark (TM)', an: '6', status: 'Mark Suppressed', mark: '', weight: '15%' }
                ],
                calculation: 'The module is calculated based on 6 assessments. Test 1 (10%), Test 2 (20%), Test 3 (20%), Test 4 (20%), Test 5 (15%), and Test 6 (15%). All tests are compulsory but not competency based.'
            },
            'CNF262S': {
                title: 'Communications Networks Fundamentals 2 (CNF262S)',
                assessments: [
                    { type: 'Test Mark (TM)', an: '1', status: 'Marked', mark: '93', weight: '20%' },
                    { type: 'Test Mark (TM)', an: '2', status: 'Not Received', mark: '', weight: '30%' },
                    { type: 'Test Mark (TM)', an: '3', status: 'Not Received', mark: '', weight: '30%' },
                    { type: 'Test Mark (TM)', an: '4', status: 'Mark Suppressed', mark: '', weight: '20%' }
                ],
                calculation: 'The module is calculated based on 4 assessments. Test 1 (20%), Test 2 (30%), Test 3 (30%), and Test 4 (20%). All tests are compulsory but not competency based.'
            },
            'ICE262S': {
                title: 'ICT Electives 2 (Python) (ICE262S)',
                assessments: [
                    { type: 'Test Mark (TM)', an: '1', status: 'Marked', mark: '94', weight: '20%' },
                    { type: 'Test Mark (TM)', an: '2', status: 'Not Received', mark: '', weight: '30%' },
                    { type: 'Test Mark (TM)', an: '3', status: 'Not Received', mark: '', weight: '20%' },
                    { type: 'Test Mark (TM)', an: '4', status: 'Mark Suppressed', mark: '', weight: '30%' }
                ],
                calculation: 'The module is calculated based on 4 assessments. Test 1 (20%), Test 2 (30%), Test 3 (20%), and Test 4 (30%). All tests are compulsory but not competency based.'
            },
            'INM262S': {
                title: 'Information Management 2 (INM262S)',
                assessments: [
                    { type: 'Test Mark (TM)', an: '1', status: 'Marked', mark: '87', weight: '10%' },
                    { type: 'Test Mark (TM)', an: '2', status: 'Not Received', mark: '', weight: '20%' },
                    { type: 'Test Mark (TM)', an: '3', status: 'Not Received', mark: '', weight: '30%' },
                    { type: 'Test Mark (TM)', an: '4', status: 'Mark Suppressed', mark: '', weight: '40%' }
                ],
                calculation: 'The module is calculated based on 4 assessments. Test 1 (10%), Test 2 (20%), Test 3 (30%), and Test 4 (40%). All tests are compulsory but not competency based.'
            },
            'ISA260S': {
                title: 'Information Systems Analysis (ISA260S)',
                assessments: [
                    { type: 'Test Mark (TM)', an: '1', status: 'Marked', mark: '92', weight: '10%' },
                    { type: 'Test Mark (TM)', an: '2', status: 'Not Received', mark: '', weight: '30%' },
                    { type: 'Test Mark (TM)', an: '3', status: 'Not Received', mark: '', weight: '30%' },
                    { type: 'Test Mark (TM)', an: '4', status: 'Mark Suppressed', mark: '', weight: '30%' }
                ],
                calculation: 'The module is calculated based on 4 assessments. Test 1 (10%), Test 2 (30%), Test 3 (30%), and Test 4 (30%). All tests are compulsory but not competency based.'
            },
            'MAF262S': {
                title: 'Multimedia Applications Fundamentals 2 (MAF262S)',
                assessments: [
                    { type: 'Test Mark (TM)', an: '1', status: 'Marked', mark: '90', weight: '15%' },
                    { type: 'Test Mark (TM)', an: '2', status: 'Not Received', mark: '', weight: '25%' },
                    { type: 'Test Mark (TM)', an: '3', status: 'Not Received', mark: '', weight: '35%' },
                    { type: 'Test Mark (TM)', an: '4', status: 'Mark Suppressed', mark: '', weight: '25%' }
                ],
                calculation: 'The module is calculated based on 4 assessments. Test 1 (15%), Test 2 (25%), Test 3 (35%), and Test 4 (25%). All tests are compulsory but not competency based.'
            },
            'PRT262S': {
                title: 'Project 2 (PRT262S)',
                assessments: [
                    { type: 'Test Mark (TM)', an: '1', status: 'Marked', mark: '87', weight: '10%' },
                    { type: 'Test Mark (TM)', an: '2', status: 'Not Received', mark: '', weight: '20%' },
                    { type: 'Test Mark (TM)', an: '3', status: 'Not Received', mark: '', weight: '30%' },
                    { type: 'Test Mark (TM)', an: '4', status: 'Mark Suppressed', mark: '', weight: '40%' }
                ],
                calculation: 'The module is calculated based on 4 assessments. Test 1 (10%), Test 2 (20%), Test 3 (30%), and Test 4 (40%). All tests are compulsory but not competency based.'
            }
        };
        
        // Show module details
        function showModuleDetails(moduleCode) {
            const modal = document.getElementById('module-details-modal');
            const title = document.getElementById('module-details-title');
            const body = document.getElementById('module-assessment-body');
            const method = document.getElementById('module-calculation-method');
            
            const details = moduleDetails[moduleCode];
            title.textContent = details.title;
            method.textContent = details.calculation;
            
            // Clear previous rows
            body.innerHTML = '';
            
            // Add new rows
            details.assessments.forEach(assessment => {
                const row = document.createElement('tr');
                row.className = 'hover:bg-gray-50 dark:hover:bg-gray-700';
                
                row.innerHTML = `
                    <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-700 dark:text-gray-300">${assessment.type}</td>
                    <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-700 dark:text-gray-300">${assessment.an}</td>
                    <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-700 dark:text-gray-300">${assessment.status}</td>
                    <td class="px-4 py-3 whitespace-nowrap text-sm font-medium ${assessment.mark ? (assessment.mark >= 70 ? 'text-green-600 dark:text-green-400' : assessment.mark >= 50 ? 'text-yellow-600 dark:text-yellow-400' : 'text-red-600 dark:text-red-400') : 'text-gray-700 dark:text-gray-300'}">${assessment.mark || '-'}</td>
                    <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-700 dark:text-gray-300">${assessment.weight}</td>
                `;
                
                body.appendChild(row);
            });
            
            modal.classList.remove('hidden');
            
            // Close modal functionality
            const closeModal = document.getElementById('close-details-modal');
            closeModal.addEventListener('click', function() {
                modal.classList.add('hidden');
            });
        }
    
    </script>
</body>
</html>
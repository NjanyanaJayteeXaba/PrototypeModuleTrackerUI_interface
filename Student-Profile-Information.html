<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Profile Information | Module Tracker</title>
    <script src="https://cdn.tailwindcss.com/3.4.16"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Roboto+Mono:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/4.6.0/remixicon.min.css">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            transition: background-color 0.3s, color 0.3s;
        }
        .font-mono {
            font-family: 'Roboto Mono', monospace;
        }
        .progress-bar-container {
            height: 8px;
            background-color: #E5E7EB;
            border-radius: 4px;
            overflow: hidden;
            transition: background-color 0.3s;
        }
        .dark .progress-bar-container {
            background-color: #4a5568;
        }
        .progress-bar {
            height: 100%;
            border-radius: 4px;
            transition: width 0.5s ease-in-out;
        }
        .notification-item.unread {
            background-color: rgba(59, 130, 246, 0.05);
        }
        .dark .notification-item.unread {
            background-color: rgba(59, 130, 246, 0.1);
        }
        .notification-item.unread::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 3px;
            background-color: #0033A0;
        }
        .dark .notification-item.unread::before {
            background-color: #FFD100;
        }
        .tab-active {
            color: #0033A0;
            border-bottom: 2px solid #0033A0;
        }
        .dark .tab-active {
            color: #FFD100;
            border-bottom-color: #FFD100;
        }
        .progress-ring {
            transform: rotate(-90deg);
            transform-origin: 50% 50%;
        }
        .progress-ring-circle {
            stroke-dasharray: 283;
            transition: stroke-dashoffset 0.5s ease;
        }
        .profile-picture-container {
            position: relative;
            width: 128px;
            height: 128px;
        }
        .profile-picture {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            object-fit: cover;
            background-color: #E5E7EB;
            transition: background-color 0.3s;
        }
        .dark .profile-picture {
            background-color: #4a5568;
        }
        .upload-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.5);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.3s;
            cursor: pointer;
        }
        .profile-picture-container:hover .upload-overlay {
            opacity: 1;
        }
        
        /* Dark mode styles */
        .dark {
            background-color: #1a202c;
            color: #f7fafc;
        }
        .dark .bg-white {
            background-color: #2d3748;
        }
        .dark .text-gray-800 {
            color: #f7fafc;
        }
        .dark .text-gray-600 {
            color: #cbd5e0;
        }
        .dark .text-gray-700 {
            color: #e2e8f0;
        }
        .dark .border-gray-200 {
            border-color: #4a5568;
        }
        .dark .bg-gray-50 {
            background-color: #1a202c;
        }
        .dark .bg-gray-100 {
            background-color: #4a5568;
        }
        .dark .border-gray-300 {
            border-color: #4a5568;
        }
        .dark .text-gray-500 {
            color: #a0aec0;
        }
        .dark .hover\:bg-gray-100:hover {
            background-color: #4a5568;
        }
        .dark .bg-gray-200 {
            background-color: #4a5568;
        }
        .dark .text-gray-400 {
            color: #a0aec0;
        }
        .dark .bg-yellow-50 {
            background-color: rgba(146, 114, 1, 0.2);
        }
        
        /* Animation for theme transition */
        * {
            transition: background-color 0.3s ease, border-color 0.3s ease;
        }
        
        .dark .focus-visible {
            outline-color: #FFD100;
        }
    </style>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        primary: '#0033A0',
                        secondary: '#FFD100',
                        dark: {
                            800: '#1f2937',
                            900: '#111827'
                        }
                    },
                    borderRadius: {
                        'none': '0px',
                        'sm': '4px',
                        DEFAULT: '8px',
                        'md': '12px',
                        'lg': '16px',
                        'xl': '20px',
                        '2xl': '24px',
                        '3xl': '32px',
                        'full': '9999px',
                        'button': '8px'
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-gray-50 min-h-screen dark:bg-gray-900">
    <!-- Top Navigation -->
    <header class="bg-white border-b border-gray-200 sticky top-0 z-10 dark:bg-gray-800 dark:border-gray-700">
        <div class="container mx-auto px-4 py-3 flex items-center justify-between">
            <div class="flex items-center">
                <a href="Module-Tracker-Dashboard.html" class="focus-visible">
                    <img src="cput-logo.png" alt="CPUT Logo" class="h-10">
                </a>
                <h1 class="ml-4 text-xl font-semibold text-gray-800 dark:text-white">Module Tracker</h1>
            </div>
            <div class="flex items-center space-x-4">
                <button id="dark-mode-toggle" class="p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-full dark:text-gray-300 dark:hover:bg-gray-700 focus-visible">
                    <div class="w-6 h-6 flex items-center justify-center">
                        <i class="ri-moon-line dark:hidden"></i>
                        <i class="ri-sun-line hidden dark:block"></i>
                    </div>
                </button>
                <div class="relative">
                    <button id="notifications-button" class="relative p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-full dark:text-gray-300 dark:hover:bg-gray-700 focus-visible">
                        <div class="w-6 h-6 flex items-center justify-center">
                            <i class="ri-notification-3-line"></i>
                        </div>
                        <span id="notification-indicator" class="absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"></span>
                    </button>
                    
                    <!-- Notification Dropdown -->
                    <div id="notifications-dropdown" class="hidden absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg border border-gray-200 z-20 dark:bg-gray-800 dark:border-gray-700">
                        <div class="p-4 border-b border-gray-200 dark:border-gray-700">
                            <h3 class="font-semibold text-gray-800 dark:text-white">Notifications</h3>
                        </div>
                        <div class="max-h-96 overflow-y-auto">
                            <div class="notification-item p-4 border-b border-gray-100 hover:bg-gray-50 cursor-pointer unread dark:border-gray-700 dark:hover:bg-gray-700">
                                <div class="flex items-start gap-3">
                                    <div class="w-8 h-8 flex items-center justify-center bg-red-100 rounded-full flex-shrink-0 dark:bg-red-900/20">
                                        <i class="ri-alert-line text-red-500 dark:text-red-400"></i>
                                    </div>
                                    <div class="flex-1">
                                            <p class="text-sm text-gray-800 mb-1 dark:text-gray-200">New grade posted for Project 2 (PRT262S): Assignment 1</p>
                                            <p class="text-xs text-gray-500 dark:text-gray-400">Yesterday</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="notification-item p-4 border-b border-gray-100 hover:bg-gray-50 cursor-pointer dark:border-gray-700 dark:hover:bg-gray-700">
                                    <div class="flex items-start gap-3">
                                        <div class="w-8 h-8 flex items-center justify-center bg-blue-100 rounded-full flex-shrink-0 dark:bg-blue-900/20">
                                            <i class="ri-calendar-line text-blue-500 dark:text-blue-400"></i>
                                        </div>
                                        <div class="flex-1">
                                            <p class="text-sm text-gray-800 mb-1 dark:text-gray-200">Upcoming test for Communications Networks Fundamentals 2 (CNF262S) next week</p>
                                            <p class="text-xs text-gray-500 dark:text-gray-400">2 days ago</p>
                                        </div>
                                </div>
                            </div>
                            <div class="notification-item p-4 border-b border-gray-100 hover:bg-gray-50 cursor-pointer dark:border-gray-700 dark:hover:bg-gray-700">
                                <div class="flex items-start gap-3">
                                    <div class="w-8 h-8 flex items-center justify-center bg-blue-100 rounded-full flex-shrink-0 dark:bg-blue-900/20">
                                        <i class="ri-calendar-line text-blue-500 dark:text-blue-400"></i>
                                    </div>
                                    <div class="flex-1">
                                        <p class="text-sm text-gray-800 mb-1 dark:text-gray-200">Upcoming test for Database Systems (DBS300S) next week</p>
                                        <p class="text-xs text-gray-500 dark:text-gray-400">2 days ago</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="p-3 text-center border-t border-gray-200 dark:border-gray-700">
                            <button id="view-all-notifications" class="text-sm text-primary hover:underline dark:text-secondary">View All Notifications</button>
                        </div>
                    </div>
                </div>
                <div class="relative">
                    <button id="user-menu-button" class="flex items-center space-x-2 focus:outline-none focus-visible">
                        <div id="nav-profile-avatar" class="w-8 h-8 bg-primary text-white rounded-full flex items-center justify-center text-sm font-medium overflow-hidden">
                            <img id="nav-profile-image" src="" alt="Profile" class="w-full h-full object-cover hidden">
                            <span id="nav-avatar-initials">NX</span>
                        </div>
                        <span class="text-sm font-medium text-gray-700 dark:text-gray-300">Njanyana Xaba</span>
                        <div class="w-5 h-5 flex items-center justify-center">
                            <i class="ri-arrow-down-s-line"></i>
                        </div>
                    </button>
                    <div id="user-dropdown" class="hidden absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-10 border border-gray-200 dark:bg-gray-800 dark:border-gray-700">
                        <a href="Student-Profile-Information.html" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700 focus-visible">Profile</a>
                        <a href="Settings-Custom.html" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 bg-gray-100 dark:bg-gray-700 dark:text-white focus-visible">Settings</a>
                        <a href="Support-Webpage.html" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700 focus-visible">Support</a>
                        <div class="border-t border-gray-100 my-1 dark:border-gray-700"></div>
                        <a href="index.html" id="logout-button" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700 focus-visible">Log out</a>
                    </div>
                </div>
            </div>
        </div>
    </header>
    
    <!-- Main Content -->
    <main class="container mx-auto px-4 py-6">
        <!-- Back Navigation -->
        <div class="mb-6">
            <a href="Module-Tracker-Dashboard.html" class="inline-flex items-center text-primary hover:underline dark:text-secondary focus-visible">
                <div class="w-5 h-5 mr-1 flex items-center justify-center">
                    <i class="ri-arrow-left-line"></i>
                </div>
                <span>Back to Dashboard</span>
            </a>
        </div>
        
        <!-- Profile Header -->
        <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6 dark:bg-gray-800 dark:border-gray-700">
            <div class="flex flex-col md:flex-row items-center md:items-start gap-6">
                <div class="mb-8 flex flex-col items-center md:items-start">
                    <div class="profile-picture-container w-32 h-32 relative mb-4">
                        <div id="profile-image-container" class="w-full h-full bg-gray-200 rounded-full flex items-center justify-center overflow-hidden dark:bg-gray-700">
                            <span id="profile-initials" class="text-gray-400 dark:text-gray-500"><i class="ri-user-line text-5xl"></i></span>
                            <img id="profile-image" src="" alt="Profile Photo" class="hidden w-full h-full object-cover">
                        </div>
                        <input type="file" id="profile-image-input" accept="image/*" class="hidden">
                        <button id="upload-profile-image" class="absolute bottom-0 right-0 bg-primary text-white rounded-full w-8 h-8 flex items-center justify-center border-2 border-white dark:border-gray-900 dark:bg-secondary focus-visible">
                            <i class="ri-camera-line"></i>
                        </button>
                    </div>
                    <button id="remove-profile-image" class="text-primary text-sm hover:underline dark:text-secondary hidden">Remove photo</button>
                </div>
                
                <div class="flex-1 text-center md:text-left">
                    <h1 class="text-2xl font-bold text-gray-800 mb-1 dark:text-white">Njanyana Xaba</h1>
                    <p class="text-gray-500 mb-2 dark:text-gray-400">Student Number: 210084750</p>
                    <p class="text-gray-500 mb-4 dark:text-gray-400">210084756@mycput.ac.za</p>
                    <div class="flex flex-wrap justify-center md:justify-start gap-3">
                        <button id="edit-profile-btn" class="inline-flex items-center px-4 py-2 bg-primary text-white rounded-button hover:bg-opacity-90 transition-all whitespace-nowrap focus-visible">
                            <div class="w-4 h-4 mr-2 flex items-center justify-center">
                                <i class="ri-edit-line"></i>
                            </div>
                            <span>Edit Profile</span>
                        </button>
                        <button id="change-password-btn" class="inline-flex items-center px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-button hover:bg-gray-50 transition-all whitespace-nowrap dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:hover:bg-gray-600 focus-visible">
                            <div class="w-4 h-4 mr-2 flex items-center justify-center">
                                <i class="ri-lock-line"></i>
                            </div>
                            <span>Change Password</span>
                        </button>
                    </div>
                </div>
                <div class="hidden md:block">
                    <div class="bg-gray-50 rounded-lg p-4 border border-gray-200 dark:bg-gray-700 dark:border-gray-600">
                        <p class="text-sm text-gray-500 mb-2 dark:text-gray-400">Last login: May 18, 2025, 10:23 AM</p>
                        <p class="text-sm text-gray-500 dark:text-gray-400">From: Cape Town, South Africa</p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Profile Tabs -->
        <div class="border-b border-gray-200 mb-6 dark:border-gray-700">
            <div class="flex overflow-x-auto">
                <button class="tab-button tab-active px-6 py-3 text-sm font-medium whitespace-nowrap dark:text-white">Personal Information</button>
                <button class="tab-button px-6 py-3 text-sm font-medium text-gray-500 whitespace-nowrap dark:text-gray-400">Academic Progress</button>
                <button class="tab-button px-6 py-3 text-sm font-medium text-gray-500 whitespace-nowrap dark:text-gray-400">Security Settings</button>
                <button class="tab-button px-6 py-3 text-sm font-medium text-gray-500 whitespace-nowrap dark:text-gray-400">Notifications</button>
            </div>
        </div>
        
        <!-- Tab Content -->
        <div class="tab-content" id="personal-info-tab">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Personal Information Card -->
                <div class="bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden dark:bg-gray-800 dark:border-gray-700">
                    <div class="flex justify-between items-center p-5 border-b border-gray-200 dark:border-gray-700">
                        <h3 class="text-lg font-semibold text-gray-800 dark:text-white">Personal Information</h3>
                        <button id="edit-personal-info" class="text-primary hover:text-primary-dark focus-visible">
                            <div class="w-5 h-5 flex items-center justify-center">
                                <i class="ri-edit-line"></i>
                            </div>
                        </button>
                    </div>
                    <div class="p-5 space-y-4">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <p class="text-sm text-gray-500 mb-1 dark:text-gray-400">First Name</p>
                                <p id="display-first-name" class="font-medium text-gray-800 dark:text-white">Njanyana</p>
                            </div>
                            <div>
                                <p class="text-sm text-gray-500 mb-1 dark:text-gray-400">Last Name</p>
                                <p id="display-last-name" class="font-medium text-gray-800 dark:text-white">Xaba</p>
                            </div>
                        </div>
                        <div>
                            <p class="text-sm text-gray-500 mb-1 dark:text-gray-400">Student Number</p>
                            <p class="font-medium text-gray-800 dark:text-white">210084750</p>
                        </div>
                        <div>
                            <p class="text-sm text-gray-500 mb-1 dark:text-gray-400">Email Address</p>
                            <p id="display-email" class="font-medium text-gray-800 dark:text-white">210084756@mycput.ac.za</p>
                        </div>
                        <div>
                            <p class="text-sm text-gray-500 mb-1 dark:text-gray-400">Phone Number</p>
                            <p id="display-phone" class="font-medium text-gray-800 dark:text-white">+27 73 456 7890</p>
                        </div>
                        <div>
                            <p class="text-sm text-gray-500 mb-1 dark:text-gray-400">Date of Birth</p>
                            <p id="display-dob" class="font-medium text-gray-800 dark:text-white">July 16, 2000</p>
                        </div>
                        <div>
                            <p class="text-sm text-gray-500 mb-1 dark:text-gray-400">Address</p>
                            <p id="display-address" class="font-medium text-gray-800 dark:text-white">123 Main Street, Cape Town, 8001</p>
                        </div>
                    </div>
                </div>
                
                <!-- Academic Information Card -->
                <div class="bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden dark:bg-gray-800 dark:border-gray-700">
                    <div class="flex justify-between items-center p-5 border-b border-gray-200 dark:border-gray-700">
                        <h3 class="text-lg font-semibold text-gray-800 dark:text-white">Academic Information</h3>
                    </div>
                    <div class="p-5 space-y-4">
                        <div>
                            <p class="text-sm text-gray-500 mb-1 dark:text-gray-400">Program</p>
                            <p class="font-medium text-gray-800 dark:text-white">National Diploma in IT</p>
                        </div>
                        <div>
                            <p class="text-sm text-gray-500 mb-1 dark:text-gray-400">Department</p>
                            <p class="font-medium text-gray-800 dark:text-white">Information Technology</p>
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <p class="text-sm text-gray-500 mb-1 dark:text-gray-400">Year of Study</p>
                                <p class="font-medium text-gray-800 dark:text-white">2nd Year</p>
                            </div>
                            <div>
                                <p class="text-sm text-gray-500 mb-1 dark:text-gray-400">Academic Status</p>
                                <p class="font-medium text-green-600">Good Standing</p>
                            </div>
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <p class="text-sm text-gray-500 mb-1 dark:text-gray-400">Overall GPA</p>
                                <p class="font-medium text-gray-800 dark:text-white">68.5%</p>
                            </div>
                            <div>
                                <p class="text-sm text-gray-500 mb-1 dark:text-gray-400">Credits Completed</p>
                                <p class="font-medium text-gray-800 dark:text-white">240 / 360</p>
                            </div>
                        </div>
                        <div>
                            <p class="text-sm text-gray-500 mb-1 dark:text-gray-400">Expected Graduation</p>
                            <p class="font-medium text-gray-800 dark:text-white">December 2025</p>
                        </div>
                    </div>
                </div>
                
                <!-- Emergency Contact Card -->
                <div class="bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden dark:bg-gray-800 dark:border-gray-700">
                    <div class="flex justify-between items-center p-5 border-b border-gray-200 dark:border-gray-700">
                        <h3 class="text-lg font-semibold text-gray-800 dark:text-white">Emergency Contact</h3>
                        <button id="edit-emergency-contact" class="text-primary hover:text-primary-dark focus-visible">
                            <div class="w-5 h-5 flex items-center justify-center">
                                <i class="ri-edit-line"></i>
                            </div>
                        </button>
                    </div>
                    <div class="p-5 space-y-4">
                        <div>
                            <p class="text-sm text-gray-500 mb-1 dark:text-gray-400">Contact Name</p>
                            <p id="display-contact-name" class="font-medium text-gray-800 dark:text-white">Thabo Xaba</p>
                        </div>
                        <div>
                            <p class="text-sm text-gray-500 mb-1 dark:text-gray-400">Relationship</p>
                            <p id="display-relationship" class="font-medium text-gray-800 dark:text-white">Father</p>
                        </div>
                        <div>
                            <p class="text-sm text-gray-500 mb-1 dark:text-gray-400">Phone Number</p>
                            <p id="display-contact-phone" class="font-medium text-gray-800 dark:text-white">+27 82 123 4567</p>
                        </div>
                        <div>
                            <p class="text-sm text-gray-500 mb-1 dark:text-gray-400">Email Address</p>
                            <p id="display-contact-email" class="font-medium text-gray-800 dark:text-white">thabo.xaba@gmail.com</p>
                        </div>
                    </div>
                </div>
                
                <!-- Academic Progress Summary -->
                <div class="bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden dark:bg-gray-800 dark:border-gray-700">
                    <div class="flex justify-between items-center p-5 border-b border-gray-200 dark:border-gray-700">
                        <h3 class="text-lg font-semibold text-gray-800 dark:text-white">Academic Progress Summary</h3>
                    </div>
                    <div class="p-5">
                        <div class="flex flex-col md:flex-row items-center justify-between gap-6">
                            <div class="relative w-36 h-36">
                                <svg class="progress-ring" width="140" height="140">
                                    <circle class="progress-ring-circle bg-circle" stroke="#e5e7eb" stroke-width="8" fill="transparent" r="45" cx="70" cy="70"></circle>
                                    <circle class="progress-ring-circle" id="progress-circle" stroke="#0033A0" stroke-width="8" fill="transparent" r="45" cx="70" cy="70" stroke-dashoffset="113.2"></circle>
                                </svg>
                                <div class="absolute inset-0 flex flex-col items-center justify-center">
                                    <span class="text-2xl font-bold text-primary dark:text-secondary">67%</span>
                                    <span class="text-xs text-gray-500 dark:text-gray-400">Overall</span>
                                </div>
                            </div>
                            <div class="flex-1">
                                <div class="space-y-3">
                                    <div>
                                        <div class="flex justify-between mb-1">
                                            <span class="text-sm font-medium text-gray-700 dark:text-white">Current Semester</span>
                                            <span class="text-sm font-medium text-primary dark:text-secondary">68%</span>
                                        </div>
                                        <div class="progress-bar-container">
                                            <div class="progress-bar bg-primary dark:bg-secondary" style="width: 68%"></div>
                                        </div>
                                    </div>
                                    <div>
                                        <div class="flex justify-between mb-1">
                                            <span class="text-sm font-medium text-gray-700 dark:text-white">Previous Semester</span>
                                            <span class="text-sm font-medium text-primary dark:text-secondary">71%</span>
                                        </div>
                                        <div class="progress-bar-container">
                                            <div class="progress-bar bg-primary dark:bg-secondary" style="width: 71%"></div>
                                        </div>
                                    </div>
                                    <div>
                                        <div class="flex justify-between mb-1">
                                            <span class="text-sm font-medium text-gray-700 dark:text-white">Program Completion</span>
                                            <span class="text-sm font-medium text-primary dark:text-secondary">67%</span>
                                        </div>
                                        <div class="progress-bar-container">
                                            <div class="progress-bar bg-primary dark:bg-secondary" style="width: 67%"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Edit Personal Information Modal -->
    <div id="edit-personal-info-modal" class="hidden fixed inset-0 bg-black bg-opacity-20 flex items-center justify-center z-50">
        <div class="bg-white rounded-lg shadow-xl w-full max-w-md mx-4 dark:bg-gray-800 dark:border-gray-700">
            <div class="flex justify-between items-center p-5 border-b border-gray-200 dark:border-gray-700">
                <h3 class="text-lg font-semibold text-gray-800 dark:text-white">Edit Personal Information</h3>
                <button class="close-modal text-gray-500 hover:text-gray-700 dark:text-gray-400 focus-visible">
                    <div class="w-6 h-6 flex items-center justify-center">
                        <i class="ri-close-line"></i>
                    </div>
                </button>
            </div>
            <div class="p-5 space-y-4">
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label for="first-name" class="block text-sm font-medium text-gray-700 mb-1 dark:text-gray-300">First Name</label>
                        <input type="text" id="first-name" value="Njanyana" class="w-full border border-gray-300 rounded-md py-2 px-3 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:focus:ring-secondary">
                    </div>
                    <div>
                        <label for="last-name" class="block text-sm font-medium text-gray-700 mb-1 dark:text-gray-300">Last Name</label>
                        <input type="text" id="last-name" value="Xaba" class="w-full border border-gray-300 rounded-md py-2 px-3 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:focus:ring-secondary">
                    </div>
                </div>
                <div>
                    <label for="email" class="block text-sm font-medium text-gray-700 mb-1 dark:text-gray-300">Email Address</label>
                    <input type="email" id="email" value="210084756@mycput.ac.za" class="w-full border border-gray-300 rounded-md py-2 px-3 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:focus:ring-secondary">
                </div>
                <div>
                    <label for="phone" class="block text-sm font-medium text-gray-700 mb-1 dark:text-gray-300">Phone Number</label>
                    <input type="tel" id="phone" value="+27 73 456 7890" class="w-full border border-gray-300 rounded-md py-2 px-3 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:focus:ring-secondary">
                </div>
                <div>
                    <label for="dob" class="block text-sm font-medium text-gray-700 mb-1 dark:text-gray-300">Date of Birth</label>
                    <input type="date" id="dob" value="2000-07-16" class="w-full border border-gray-300 rounded-md py-2 px-3 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:focus:ring-secondary">
                </div>
                <div>
                    <label for="address" class="block text-sm font-medium text-gray-700 mb-1 dark:text-gray-300">Address</label>
                    <textarea id="address" rows="2" class="w-full border border-gray-300 rounded-md py-2 px-3 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:focus:ring-secondary">123 Main Street, Cape Town, 8001</textarea>
                </div>
            </div>
            <div class="flex justify-end space-x-3 p-5 border-t border-gray-200 dark:border-gray-700">
                <button class="close-modal px-4 py-2 text-gray-700 hover:underline rounded-button whitespace-nowrap dark:text-gray-300 focus-visible">Cancel</button>
                <button id="save-personal-info" class="px-4 py-2 bg-primary text-white rounded-button hover:bg-opacity-90 transition-all whitespace-nowrap dark:bg-secondary focus-visible">Save Changes</button>
            </div>
        </div>
    </div>
    
    <!-- Edit Emergency Contact Modal -->
    <div id="edit-emergency-contact-modal" class="hidden fixed inset-0 bg-black bg-opacity-20 flex items-center justify-center z-50">
        <div class="bg-white rounded-lg shadow-xl w-full max-w-md mx-4 dark:bg-gray-800 dark:border-gray-700">
            <div class="flex justify-between items-center p-5 border-b border-gray-200 dark:border-gray-700">
                <h3 class="text-lg font-semibold text-gray-800 dark:text-white">Edit Emergency Contact</h3>
                <button class="close-modal text-gray-500 hover:text-gray-700 dark:text-gray-400 focus-visible">
                    <div class="w-6 h-6 flex items-center justify-center">
                        <i class="ri-close-line"></i>
                    </div>
                </button>
            </div>
            <div class="p-5 space-y-4">
                <div>
                    <label for="contact-name" class="block text-sm font-medium text-gray-700 mb-1 dark:text-gray-300">Contact Name</label>
                    <input type="text" id="contact-name" value="Thabo Xaba" class="w-full border border-gray-300 rounded-md py-2 px-3 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:focus:ring-secondary">
                </div>
                <div>
                    <label for="relationship" class="block text-sm font-medium text-gray-700 mb-1 dark:text-gray-300">Relationship</label>
                    <select id="relationship" class="w-full border border-gray-300 rounded-md py-2 pl-3 pr-10 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:focus:ring-secondary">
                        <option value="Father" selected>Father</option>
                        <option value="Mother">Mother</option>
                        <option value="Guardian">Guardian</option>
                        <option value="Spouse">Spouse</option>
                        <option value="Sibling">Sibling</option>
                        <option value="Other">Other</option>
                    </select>
                </div>
                <div>
                    <label for="contact-phone" class="block text-sm font-medium text-gray-700 mb-1 dark:text-gray-300">Phone Number</label>
                    <input type="tel" id="contact-phone" value="+27 82 123 4567" class="w-full border border-gray-300 rounded-md py-2 px-3 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:focus:ring-secondary">
                </div>
                <div>
                    <label for="contact-email" class="block text-sm font-medium text-gray-700 mb-1 dark:text-gray-300">Email Address</label>
                    <input type="email" id="contact-email" value="thabo.xaba@gmail.com" class="w-full border border-gray-300 rounded-md py-2 px-3 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:focus:ring-secondary">
                </div>
            </div>
            <div class="flex justify-end space-x-3 p-5 border-t border-gray-200 dark:border-gray-700">
                <button class="close-modal px-4 py-2 text-gray-700 hover:underline rounded-button whitespace-nowrap dark:text-gray-300 focus-visible">Cancel</button>
                <button id="save-emergency-contact" class="px-4 py-2 bg-primary text-white rounded-button hover:bg-opacity-90 transition-all whitespace-nowrap dark:bg-secondary focus-visible">Save Changes</button>
            </div>
        </div>
    </div>
    
    <!-- Change Password Modal -->
    <div id="change-password-modal" class="hidden fixed inset-0 bg-black bg-opacity-20 flex items-center justify-center z-50">
        <div class="bg-white rounded-lg shadow-xl w-full max-w-md mx-4 dark:bg-gray-800 dark:border-gray-700">
            <div class="flex justify-between items-center p-5 border-b border-gray-200 dark:border-gray-700">
                <h3 class="text-lg font-semibold text-gray-800 dark:text-white">Change Password</h3>
                <button class="close-modal text-gray-500 hover:text-gray-700 dark:text-gray-400 focus-visible">
                    <div class="w-6 h-6 flex items-center justify-center">
                        <i class="ri-close-line"></i>
                    </div>
                </button>
            </div>
            <div class="p-5 space-y-4">
                <div>
                    <label for="current-password" class="block text-sm font-medium text-gray-700 mb-1 dark:text-gray-300">Current Password</label>
                    <div class="relative">
                        <input type="password" id="current-password" class="w-full border border-gray-300 rounded-md py-2 pl-3 pr-10 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:focus:ring-secondary">
                        <button type="button" class="toggle-password absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300 focus-visible">
                            <div class="w-6 h-6 flex items-center justify-center">
                                <i class="ri-eye-line"></i>
                            </div>
                        </button>
                    </div>
                </div>
                <div>
                    <label for="new-password" class="block text-sm font-medium text-gray-700 mb-1 dark:text-gray-300">New Password</label>
                    <div class="relative">
                        <input type="password" id="new-password" class="w-full border border-gray-300 rounded-md py-2 pl-3 pr-10 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:focus:ring-secondary">
                        <button type="button" class="toggle-password absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300 focus-visible">
                            <div class="w-6 h-6 flex items-center justify-center">
                                <i class="ri-eye-line"></i>
                            </div>
                        </button>
                    </div>
                    <p class="text-xs text-gray-500 mt-1 dark:text-gray-400">Minimum 8 characters with at least one uppercase letter, one lowercase letter, one number, and one special character</p>
                </div>
                <div>
                    <label for="confirm-password" class="block text-sm font-medium text-gray-700 mb-1 dark:text-gray-300">Confirm New Password</label>
                    <div class="relative">
                        <input type="password" id="confirm-password" class="w-full border border-gray-300 rounded-md py-2 pl-3 pr-10 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:focus:ring-secondary">
                        <button type="button" class="toggle-password absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300 focus-visible">
                            <div class="w-6 h-6 flex items-center justify-center">
                                <i class="ri-eye-line"></i>
                            </div>
                        </button>
                    </div>
                </div>
                <div class="bg-yellow-50 p-3 rounded-md dark:bg-yellow-900/20">
                    <div class="flex items-start">
                        <div class="w-5 h-5 mt-0.5 flex items-center justify-center text-yellow-500">
                            <i class="ri-information-line"></i>
                        </div>
                        <div class="ml-2">
                            <p class="text-sm text-gray-700 dark:text-gray-300">For security reasons, you will be logged out after changing your password and will need to log in again with your new password.</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="flex justify-end space-x-3 p-5 border-t border-gray-200 dark:border-gray-700">
                <button class="close-modal px-4 py-2 text-gray-700 hover:underline rounded-button whitespace-nowrap dark:text-gray-300 focus-visible">Cancel</button>
                <button id="save-password" class="px-4 py-2 bg-primary text-white rounded-button hover:bg-opacity-90 transition-all whitespace-nowrap dark:bg-secondary focus-visible">Change Password</button>
            </div>
        </div>
    </div>
    
    <!-- Success Notification -->
    <div id="success-notification" class="hidden fixed bottom-4 right-4 bg-green-100 border-l-4 border-green-500 text-green-700 p-4 rounded shadow-md z-50 dark:bg-green-900 dark:border-green-700 dark:text-green-200">
        <div class="flex items-center">
            <div class="w-5 h-5 mr-2 flex items-center justify-center">
                <i class="ri-check-line"></i>
            </div>
            <div>
                <p class="font-medium" id="success-message">Changes saved successfully!</p>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Dark mode toggle functionality
            const darkModeToggle = document.getElementById('dark-mode-toggle');
            const themeToggle = document.createElement('input');
            themeToggle.type = 'checkbox';
            themeToggle.id = 'theme-toggle';
            themeToggle.className = 'hidden';
            
            // Check for saved theme preference
            const savedTheme = localStorage.getItem('theme');
            const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
            
            if (savedTheme === 'dark' || (!savedTheme && prefersDark)) {
                document.documentElement.classList.add('dark');
                themeToggle.checked = true;
            }
            
            darkModeToggle.addEventListener('click', function() {
                document.documentElement.classList.toggle('dark');
                const isDark = document.documentElement.classList.contains('dark');
                localStorage.setItem('theme', isDark ? 'dark' : 'light');
            });
            
            // Profile picture elements
            const profileImageContainer = document.getElementById('profile-image-container');
            const profileImage = document.getElementById('profile-image');
            const profileInitials = document.getElementById('profile-initials');
            const profileImageInput = document.getElementById('profile-image-input');
            const uploadProfileImage = document.getElementById('upload-profile-image');
            const removeProfileImage = document.getElementById('remove-profile-image');
            const navProfileImage = document.getElementById('nav-profile-image');
            const navAvatarInitials = document.getElementById('nav-avatar-initials');
            
            // Check for saved profile picture in localStorage
            const savedProfilePic = localStorage.getItem('profileImage');
            if (savedProfilePic) {
                profileImage.src = savedProfilePic;
                profileImage.classList.remove('hidden');
                profileInitials.classList.add('hidden');
                removeProfileImage.classList.remove('hidden');
                
                navProfileImage.src = savedProfilePic;
                navProfileImage.classList.remove('hidden');
                navAvatarInitials.classList.add('hidden');
            }
            
            // Handle profile picture upload
            uploadProfileImage.addEventListener('click', function() {
                profileImageInput.click();
            });
            
            profileImageInput.addEventListener('change', function(e) {
                if (e.target.files && e.target.files[0]) {
                    const reader = new FileReader();
                    
                    reader.onload = function(event) {
                        const imgUrl = event.target.result;
                        
                        // Update profile picture
                        profileImage.src = imgUrl;
                        profileImage.classList.remove('hidden');
                        profileInitials.classList.add('hidden');
                        removeProfileImage.classList.remove('hidden');
                        
                        // Update nav profile image
                        navProfileImage.src = imgUrl;
                        navProfileImage.classList.remove('hidden');
                        navAvatarInitials.classList.add('hidden');
                        
                        // Save to localStorage
                        localStorage.setItem('profileImage', imgUrl);
                        
                        // Show success notification
                        showSuccessNotification('Profile picture updated successfully!');
                    };
                    reader.readAsDataURL(e.target.files[0]);
                }
            });
            
            // Handle remove photo button
            removeProfileImage.addEventListener('click', function() {
                // Remove profile picture
                profileImage.src = '';
                profileImage.classList.add('hidden');
                profileInitials.classList.remove('hidden');
                removeProfileImage.classList.add('hidden');
                
                // Remove nav profile image
                navProfileImage.src = '';
                navProfileImage.classList.add('hidden');
                navAvatarInitials.classList.remove('hidden');
                
                // Remove from localStorage
                localStorage.removeItem('profileImage');
                
                // Show success notification
                showSuccessNotification('Profile picture removed successfully!');
            });
            
            // User dropdown toggle
            const userMenuButton = document.getElementById('user-menu-button');
            const userDropdown = document.getElementById('user-dropdown');
            
            userMenuButton.addEventListener('click', function() {
                userDropdown.classList.toggle('hidden');
            });
            
            // Close dropdown when clicking outside
            document.addEventListener('click', function(event) {
                if (!userMenuButton.contains(event.target) && !userDropdown.contains(event.target)) {
                    userDropdown.classList.add('hidden');
                }
            });
            
            // Tab switching
            const tabButtons = document.querySelectorAll('.tab-button');
            tabButtons.forEach(button => {
                button.addEventListener('click', function() {
                    // Remove active class from all tabs
                    tabButtons.forEach(btn => {
                        btn.classList.remove('tab-active');
                        btn.classList.add('text-gray-500');
                    });
                    // Add active class to clicked tab
                    this.classList.add('tab-active');
                    this.classList.remove('text-gray-500');
                });
            });
            
            // Modal functionality
            const editPersonalInfoBtn = document.getElementById('edit-personal-info');
            const editPersonalInfoModal = document.getElementById('edit-personal-info-modal');
            const editEmergencyContactBtn = document.getElementById('edit-emergency-contact');
            const editEmergencyContactModal = document.getElementById('edit-emergency-contact-modal');
            const changePasswordBtn = document.getElementById('change-password-btn');
            const changePasswordModal = document.getElementById('change-password-modal');
            const closeModalButtons = document.querySelectorAll('.close-modal');
            
            // Open modals
            if (editPersonalInfoBtn && editPersonalInfoModal) {
                editPersonalInfoBtn.addEventListener('click', function() {
                    editPersonalInfoModal.classList.remove('hidden');
                });
            }
            
            if (editEmergencyContactBtn && editEmergencyContactModal) {
                editEmergencyContactBtn.addEventListener('click', function() {
                    editEmergencyContactModal.classList.remove('hidden');
                });
            }
            
            if (changePasswordBtn && changePasswordModal) {
                changePasswordBtn.addEventListener('click', function() {
                    changePasswordModal.classList.remove('hidden');
                });
            }
            
            // Close modals
            closeModalButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const modal = this.closest('[id$="-modal"]');
                    if (modal) {
                        modal.classList.add('hidden');
                    }
                });
            });
            
            // Toggle password visibility
            const togglePasswordButtons = document.querySelectorAll('.toggle-password');
            togglePasswordButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const input = this.previousElementSibling;
                    const type = input.getAttribute('type') === 'password' ? 'text' : 'password';
                    input.setAttribute('type', type);
                    this.innerHTML = type === 'password' ?
                        '<div class="w-6 h-6 flex items-center justify-center"><i class="ri-eye-line"></i></div>' :
                        '<div class="w-6 h-6 flex items-center justify-center"><i class="ri-eye-off-line"></i></div>';
                });
            });
            
            // Save changes functionality
            const savePersonalInfoBtn = document.getElementById('save-personal-info');
            const saveEmergencyContactBtn = document.getElementById('save-emergency-contact');
            const savePasswordBtn = document.getElementById('save-password');
            const successNotification = document.getElementById('success-notification');
            const successMessage = document.getElementById('success-message');
            
            // Function to show success notification
            function showSuccessNotification(message) {
                successMessage.textContent = message;
                successNotification.classList.remove('hidden');
                // Hide notification after 3 seconds
                setTimeout(function() {
                    successNotification.classList.add('hidden');
                }, 3000);
            }
            
            if (savePersonalInfoBtn) {
                savePersonalInfoBtn.addEventListener('click', function() {
                    // Get values from form
                    const firstName = document.getElementById('first-name').value;
                    const lastName = document.getElementById('last-name').value;
                    const email = document.getElementById('email').value;
                    const phone = document.getElementById('phone').value;
                    const dob = document.getElementById('dob').value;
                    const address = document.getElementById('address').value;
                    
                    // Update display values
                    document.getElementById('display-first-name').textContent = firstName;
                    document.getElementById('display-last-name').textContent = lastName;
                    document.getElementById('display-email').textContent = email;
                    document.getElementById('display-phone').textContent = phone;
                    
                    // Format date for display
                    const dobDate = new Date(dob);
                    const options = { year: 'numeric', month: 'long', day: 'numeric' };
                    document.getElementById('display-dob').textContent = dobDate.toLocaleDateString('en-US', options);
                    
                    document.getElementById('display-address').textContent = address;
                    
                    // Close modal
                    editPersonalInfoModal.classList.add('hidden');
                    showSuccessNotification('Personal information updated successfully!');
                });
            }
            
            if (saveEmergencyContactBtn) {
                saveEmergencyContactBtn.addEventListener('click', function() {
                    // Get values from form
                    const contactName = document.getElementById('contact-name').value;
                    const relationship = document.getElementById('relationship').value;
                    const contactPhone = document.getElementById('contact-phone').value;
                    const contactEmail = document.getElementById('contact-email').value;
                    
                    // Update display values
                    document.getElementById('display-contact-name').textContent = contactName;
                    document.getElementById('display-relationship').textContent = relationship;
                    document.getElementById('display-contact-phone').textContent = contactPhone;
                    document.getElementById('display-contact-email').textContent = contactEmail;
                    
                    // Close modal
                    editEmergencyContactModal.classList.add('hidden');
                    showSuccessNotification('Emergency contact updated successfully!');
                });
            }
            
            if (savePasswordBtn) {
                savePasswordBtn.addEventListener('click', function() {
                    const currentPassword = document.getElementById('current-password').value;
                    const newPassword = document.getElementById('new-password').value;
                    const confirmPassword = document.getElementById('confirm-password').value;
                    
                    if (!currentPassword || !newPassword || !confirmPassword) {
                        alert('Please fill in all password fields');
                        return;
                    }
                    
                    if (newPassword !== confirmPassword) {
                        alert('New passwords do not match');
                        return;
                    }
                    
                    if (newPassword.length < 8) {
                        alert('Password must be at least 8 characters long');
                        return;
                    }
                    
                    // In a real app, this would verify the current password and save the new one
                    changePasswordModal.classList.add('hidden');
                    showSuccessNotification('Password changed successfully! You will be logged out shortly.');
                    
                    // Simulate logout after password change
                    setTimeout(function() {
                        // In a real app, this would redirect to the login page
                        alert('You have been logged out due to password change. Please log in with your new password.');
                    }, 3000);
                });
            }
            
            // Progress circle animation
            const progressCircle = document.getElementById('progress-circle');
            if (progressCircle) {
                const radius = progressCircle.getAttribute('r');
                const circumference = 2 * Math.PI * radius;
                progressCircle.style.strokeDasharray = `${circumference} ${circumference}`;
                // Set progress to 67%
                const progress = 67;
                const offset = circumference - (progress / 100) * circumference;
                progressCircle.style.strokeDashoffset = offset;
            }
            
            // Notifications functionality
            const notificationsButton = document.getElementById('notifications-button');
            const notificationsDropdown = document.getElementById('notifications-dropdown');
            const notificationIndicator = document.getElementById('notification-indicator');

            if (notificationsButton && notificationsDropdown) {
                notificationsButton.addEventListener('click', function(e) {
                    e.stopPropagation();
                    notificationsDropdown.classList.toggle('hidden');
                });
                
                const markAsReadButtons = document.querySelectorAll('.mark-as-read');
                markAsReadButtons.forEach(button => {
                    button.addEventListener('click', function(e) {
                        e.stopPropagation();
                        const notificationItem = this.closest('.notification-item');
                        notificationItem.classList.remove('unread');
                        this.style.display = 'none';
                        
                        // Check if there are any remaining unread notifications
                        const unreadNotifications = document.querySelectorAll('.notification-item.unread');
                        if (unreadNotifications.length === 0) {
                            notificationIndicator.classList.add('hidden');
                        }
                    });
                });
                
                document.addEventListener('click', function(e) {
                    if (!notificationsButton.contains(e.target) && !notificationsDropdown.contains(e.target)) {
                        notificationsDropdown.classList.add('hidden');
                    }
                });
                
                // View all notifications
                const viewAllNotifications = document.getElementById('view-all-notifications');
                if (viewAllNotifications) {
                    viewAllNotifications.addEventListener('click', function() {
                        // Implement your "View All" functionality here
                        alert('Viewing all notifications');
                        notificationsDropdown.classList.add('hidden');
                    });
                }
            }
        });
    </script>
</body>
</html>